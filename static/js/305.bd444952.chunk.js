"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[305],{5305:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var i=a(5043),n=a(9689),r=a(6580),s=a(4600),l=a(2518),o=a(4496),c=a(3880),x=a(7332),d=a(7908),m=a(9217),g=a(3003),h=a(3193),u=a(9190),p=a(2221),v=a(1449),A=a(1e3),j=a(9662),f=a(579);const w=(0,j.A)((0,f.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var I=a(3157),y=a(4117);function k(e){let{countriesList:t,genresList:a,ratingFrom:i,ratingTo:n,countries:r,order:o,year:c,genreId:x}=e;const{t:d}=(0,y.Bd)(),m=(0,g.wA)(),j=new Array(50).fill(null).map(((e,t)=>({title:(new Date).getFullYear()-t,value:(new Date).getFullYear()-t}))),k=new Array(11).fill(null).map(((e,t)=>({title:10-t,value:10-t,value1:10-t})));return(0,f.jsxs)(s.A,{sx:{marginTop:"5px",marginBottom:"20px",flexDirection:{sm:"column",md:"row"},gap:1},children:[(0,f.jsxs)(h.A,{fullWidth:!0,size:"small",children:[(0,f.jsx)(u.A,{children:d("order")}),(0,f.jsx)(p.A,{value:o,onChange:e=>m((0,I.Z1)({order:e.target.value})),label:"Order",children:["RATING","NUM_VOTE"].map((e=>(0,f.jsx)(v.A,{value:e,children:d(e)},e)))})]}),(0,f.jsxs)(h.A,{fullWidth:!0,size:"small",children:[(0,f.jsx)(u.A,{children:d("countries")}),(0,f.jsx)(p.A,{value:r,onChange:e=>m((0,I.Z1)({countries:e.target.value})),label:"Country",children:t.map((e=>(0,f.jsx)(v.A,{value:e.id,children:e.country},e.id)))})]}),(0,f.jsxs)(h.A,{fullWidth:!0,size:"small",children:[(0,f.jsx)(u.A,{children:d("genre")}),(0,f.jsx)(p.A,{value:x,onChange:e=>m((0,I.Z1)({genreId:e.target.value})),label:"Genre",children:a.map((e=>(0,f.jsx)(v.A,{value:e.id,children:e.genre},e.id)))})]}),(0,f.jsxs)(h.A,{fullWidth:!0,size:"small",children:[(0,f.jsx)(u.A,{children:d("year")}),(0,f.jsx)(p.A,{value:c,onChange:e=>m((0,I.Z1)({year:e.target.value})),label:"Year",children:j.map((e=>(0,f.jsx)(v.A,{value:e.value,children:e.title},e.title)))})]}),(0,f.jsxs)(h.A,{fullWidth:!0,size:"small",children:[(0,f.jsx)(u.A,{children:d("ratingFrom")}),(0,f.jsx)(p.A,{value:i,onChange:e=>m((0,I.Z1)({ratingFrom:e.target.value})),label:"RatingFrom",children:k.map((e=>(0,f.jsx)(v.A,{value:e.value,children:e.title},e.title)))})]}),(0,f.jsxs)(h.A,{fullWidth:!0,size:"small",children:[(0,f.jsx)(u.A,{children:d("ratingTo")}),(0,f.jsx)(p.A,{value:n,onChange:e=>m((0,I.Z1)({ratingTo:e.target.value})),label:"RatingTo",children:k.map((e=>(0,f.jsx)(v.A,{value:e.value1,children:e.title},e.title)))})]}),(0,f.jsx)(A.A,{children:(0,f.jsx)(l.A,{onClick:()=>m((0,I.Sy)()),variant:"outlined",startIcon:(0,f.jsx)(w,{}),children:d("reset")})})]})}var C=a(5442),T=a(8185);function F(){const e=(0,C.A)("(max-width:600px)");return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(s.A,{flexDirection:"row",sx:{mt:2,mb:2},children:[(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",sx:{marginRight:"15px"},height:e?"45px":"32px",width:e?"45px":"40px"}),(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",height:"38px",width:"100px"})]}),(0,f.jsxs)(s.A,{children:[(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",height:"35px",width:"97%"}),e&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",sx:{mt:"5px"},height:"35px",width:"97%"}),(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",sx:{mt:"5px"},height:"35px",width:"97%"}),(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",sx:{mt:"5px"},height:"35px",width:"97%"}),(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",sx:{mt:"5px"},height:"35px",width:"97%"}),(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",sx:{mt:"5px"},height:"35px",width:"97%"}),(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",sx:{mt:"5px"},height:"35px",width:"97%"}),(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",sx:{mt:"5px"},height:"40px",width:"40%"})]})]}),(0,f.jsx)(s.A,{direction:"row",justifyContent:"center",flexWrap:"wrap",children:Array(15).fill(null).map(((e,t)=>(0,f.jsxs)(s.A,{children:[(0,f.jsx)(T.A,{animation:"wave",variant:"rectangular",sx:{marginTop:"7px",marginRight:"3px"},height:"322px",width:"215px"}),(0,f.jsx)(T.A,{animation:"wave",variant:"text"}),(0,f.jsx)(T.A,{animation:"wave",variant:"text"})]},t)))})]})}const _=function(){const{t:e}=(0,y.Bd)(),t=(0,r.zy)(),{countries:a,order:h,year:u,genreId:p,ratingFrom:v,ratingTo:A}=(0,g.d4)((e=>e.currentQuerySlice)),[j,w]=(0,i.useState)(1),I=(0,r.Zp)(),C=m.E.find((e=>e.url===t.pathname)),T="/cartoons"===C.url?18:p,_=(0,n.Nd)(),b=(0,n.BQ)({type:C.value,genreId:T,countries:a,order:h,year:u,page:j,ratingFrom:v,ratingTo:A});return(0,i.useEffect)((()=>{w(1)}),[t]),b.error||_.error?(0,f.jsx)(d.A,{}):b.isLoading||_.isLoading?(0,f.jsx)(F,{}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(s.A,{flexDirection:"row",sx:{mt:2,mb:2},children:[(0,f.jsx)(l.A,{startIcon:(0,f.jsx)(x.A,{}),onClick:()=>I(-1)}),(0,f.jsx)(o.A,{variant:"h5",children:e(C.url)})]}),(0,f.jsx)(k,{countriesList:_.data.countries,genresList:_.data.genres,ratingFrom:v,ratingTo:A,countries:a,order:h,year:u,genreId:p}),(0,f.jsx)(c.A,{movies:b.data.items,totalPages:b.data.totalPages,page:j,setPage:w})]})}},6364:(e,t,a)=>{a.d(t,{A:()=>m});var i=a(9379),n=a(5043),r=a(1695);const s={favoriteIcon:"AddToFavorite_favoriteIcon__vGTwf"};var l=a(5244),o=a(4851),c=a(4681),x=a(4117),d=a(579);function m(e){let{movie:t}=e;const{userItems:a,movieItems:m,setMovieItems:g}=(0,n.useContext)(r.A),{t:h}=(0,x.Bd)(),[u,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>{localStorage.setItem("movieItems",JSON.stringify(m))}),[m]),(0,n.useEffect)((()=>{localStorage.setItem("userItems",JSON.stringify(a))}),[a]);const v=m&&m.some((e=>e.kinopoiskId===t.kinopoiskId))?{color:o.A[500]}:{color:c.A[500]};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(l.A,{onClick:()=>{p(!u);try{const e=m&&m.find((e=>e.kinopoiskId===t.kinopoiskId));g(e?e=>e.filter((e=>e.kinopoiskId!==t.kinopoiskId)):e=>[...e,t])}catch(e){alert(h("likeError")),console.error(e)}},className:s.favoriteIcon,fontSize:"large",sx:(0,i.A)({},v)})})}},8293:(e,t,a)=>{a.d(t,{A:()=>i});const i=a(6364).A},3880:(e,t,a)=>{a.d(t,{A:()=>p});var i=a(4600),n=a(9135),r=a(5043),s=a(8446),l=a(7739),o=a(1e3),c=a(6682),x=a(6580),d=a(9163),m=a(8293),g=a(1695),h=a(579);const u=function(e){let{movie:t}=e;const{userItems:a}=(0,r.useContext)(g.A);return(0,r.useEffect)((()=>{localStorage.setItem("userItems",JSON.stringify(a))}),[a]),(0,h.jsxs)(i.A,{alignItems:"center",sx:{position:"relative"},children:[a.some((e=>!0===e.session))&&(0,h.jsx)(m.A,{movie:t}),(0,h.jsx)(x.N_,{to:"/movie/".concat(t.kinopoiskId||t.filmId),children:(0,h.jsx)("img",{src:t.posterUrlPreview,alt:t.nameRu,className:d.A.img})}),(0,h.jsx)(s.A,{component:x.N_,to:"/movie/".concat(t.kinopoiskId||t.filmId),className:d.A.textTypography,children:t.nameRu?t.nameRu:t.nameEng}),t.ratingKinopoisk&&(0,h.jsx)(i.A,{children:(0,h.jsx)(l.A,{title:"".concat(t.ratingKinopoisk," / 10"),children:(0,h.jsx)(o.A,{children:(0,h.jsx)(c.A,{name:"read-only",value:t.ratingKinopoisk/2,precision:.1,readOnly:!0})})})})]})};const p=function(e){let{movies:t,totalPages:a,page:r,setPage:s}=e;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.A,{direction:"row",justifyContent:"center",flexWrap:"wrap",children:t.map((e=>(0,h.jsx)(u,{movie:e},e.kinopoiskId)))}),(0,h.jsx)(i.A,{alignItems:"center",children:a>1&&(0,h.jsx)(n.A,{count:a,color:"primary",variant:"outlined",size:"large",page:r,onChange:(e,t)=>s(t),boundaryCount:2})})]})}},9163:(e,t,a)=>{a.d(t,{A:()=>i});const i={img:"MoviesCard_img__mrpe7",textTypography:"MoviesCard_textTypography__eihA1"}}}]);
//# sourceMappingURL=305.bd444952.chunk.js.map