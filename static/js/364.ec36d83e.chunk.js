"use strict";(self.webpackChunkmovie_portal=self.webpackChunkmovie_portal||[]).push([[364],{9364:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var n=i(5043),s=i(9689),o=i(6580),a=i(9217),r=i(4600),c=i(2518),l=i(4496),m=i(3880),x=i(7332),d=i(7908),p=i(8185),g=i(579);function u(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(r.A,{flexDirection:"row",sx:{mt:2,mb:2},children:[(0,g.jsx)(p.A,{animation:"wave",variant:"rectangular",sx:{marginRight:"15px"},height:"32px",width:"40px"}),(0,g.jsx)(p.A,{animation:"wave",variant:"rectangular",height:"32px",width:"100px"})]}),(0,g.jsx)(r.A,{direction:"row",justifyContent:"center",flexWrap:"wrap",children:Array(15).fill(null).map(((e,t)=>(0,g.jsxs)(r.A,{children:[(0,g.jsx)(p.A,{animation:"wave",variant:"rectangular",sx:{marginTop:"7px",marginRight:"3px"},height:"322px",width:"215px"}),(0,g.jsx)(p.A,{animation:"wave",variant:"text"}),(0,g.jsx)(p.A,{animation:"wave",variant:"text"})]},t)))})]})}var v=i(4117);const A=function(){const e=(0,o.zy)(),[t,i]=(0,n.useState)(1),p=(0,o.Zp)(),{t:A}=(0,v.Bd)(),h=a.j.find((t=>t.url===e.pathname)),{data:f,error:j,isLoading:k}=(0,s.Ys)({type:h.value,page:t});return(0,n.useEffect)((()=>{i(1)}),[e]),j?(0,g.jsx)(d.A,{}):k?(0,g.jsx)(u,{}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(r.A,{flexDirection:"row",sx:{mt:2,mb:2},children:[(0,g.jsx)(c.A,{startIcon:(0,g.jsx)(x.A,{}),onClick:()=>p(-1)}),(0,g.jsx)(l.A,{variant:"h5",children:A(h.value)})]}),(0,g.jsx)(m.A,{movies:f.items,totalPages:f.totalPages,page:t,setPage:i})]})}},6364:(e,t,i)=>{i.d(t,{A:()=>d});var n=i(9379),s=i(5043),o=i(1695);const a={favoriteIcon:"AddToFavorite_favoriteIcon__vGTwf"};var r=i(5244),c=i(4851),l=i(4681),m=i(4117),x=i(579);function d(e){let{movie:t}=e;const{userItems:i,movieItems:d,setMovieItems:p}=(0,s.useContext)(o.A),{t:g}=(0,m.Bd)(),[u,v]=(0,s.useState)(!1);(0,s.useEffect)((()=>{localStorage.setItem("movieItems",JSON.stringify(d))}),[d]),(0,s.useEffect)((()=>{localStorage.setItem("userItems",JSON.stringify(i))}),[i]);const A=d&&d.some((e=>e.kinopoiskId===t.kinopoiskId))?{color:c.A[500]}:{color:l.A[500]};return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(r.A,{onClick:()=>{v(!u);try{const e=d&&d.find((e=>e.kinopoiskId===t.kinopoiskId));p(e?e=>e.filter((e=>e.kinopoiskId!==t.kinopoiskId)):e=>[...e,t])}catch(e){alert(g("likeError")),console.error(e)}},className:a.favoriteIcon,fontSize:"large",sx:(0,n.A)({},A)})})}},8293:(e,t,i)=>{i.d(t,{A:()=>n});const n=i(6364).A},3880:(e,t,i)=>{i.d(t,{A:()=>v});var n=i(4600),s=i(9135),o=i(5043),a=i(8446),r=i(7739),c=i(1e3),l=i(6682),m=i(6580),x=i(9163),d=i(8293),p=i(1695),g=i(579);const u=function(e){let{movie:t}=e;const{userItems:i}=(0,o.useContext)(p.A);return(0,o.useEffect)((()=>{localStorage.setItem("userItems",JSON.stringify(i))}),[i]),(0,g.jsxs)(n.A,{alignItems:"center",sx:{position:"relative"},children:[i.some((e=>!0===e.session))&&(0,g.jsx)(d.A,{movie:t}),(0,g.jsx)(m.N_,{to:"/movie/".concat(t.kinopoiskId||t.filmId),children:(0,g.jsx)("img",{src:t.posterUrlPreview,alt:t.nameRu,className:x.A.img})}),(0,g.jsx)(a.A,{component:m.N_,to:"/movie/".concat(t.kinopoiskId||t.filmId),className:x.A.textTypography,children:t.nameRu?t.nameRu:t.nameEng}),t.ratingKinopoisk&&(0,g.jsx)(n.A,{children:(0,g.jsx)(r.A,{title:"".concat(t.ratingKinopoisk," / 10"),children:(0,g.jsx)(c.A,{children:(0,g.jsx)(l.A,{name:"read-only",value:t.ratingKinopoisk/2,precision:.1,readOnly:!0})})})})]})};const v=function(e){let{movies:t,totalPages:i,page:o,setPage:a}=e;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n.A,{direction:"row",justifyContent:"center",flexWrap:"wrap",children:t.map((e=>(0,g.jsx)(u,{movie:e},e.kinopoiskId)))}),(0,g.jsx)(n.A,{alignItems:"center",children:i>1&&(0,g.jsx)(s.A,{count:i,color:"primary",variant:"outlined",size:"large",page:o,onChange:(e,t)=>a(t),boundaryCount:2})})]})}},9163:(e,t,i)=>{i.d(t,{A:()=>n});const n={img:"MoviesCard_img__mrpe7",textTypography:"MoviesCard_textTypography__eihA1"}}}]);
//# sourceMappingURL=364.ec36d83e.chunk.js.map